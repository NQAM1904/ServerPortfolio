(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{65:function(t,e,n){},90:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n(27),o=n.n(r),i=n(29),s=n(8),l=n(9),j=n(11),h=n(10),d=(n(65),n(24)),u=n(100),b=n(99),O=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(u.a,{bg:"dark",variant:"dark",children:[Object(c.jsx)(u.a.Brand,{as:i.b,to:"/",children:"React-Admin"}),Object(c.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(b.a,{className:"mr-auto",children:[Object(c.jsx)(b.a.Link,{as:i.b,to:"/category",children:"Danh m\u1ee5c"}),Object(c.jsx)(b.a.Link,{as:i.b,to:"/projects",children:"Project"})]})})]})}}]),n}(a.Component),x=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(O,Object(d.a)({},this.props))}}]),n}(a.Component),m=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:"Home"})}}]),n}(a.Component),g=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(m,Object(d.a)({},this.props))}}]),n}(a.Component),p=n.p+"static/media/logo.6ce24c58.svg",f=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("img",{src:p,className:"App-logo",alt:"logo"})}),Object(c.jsx)("h1",{children:"404! Kh\xf4ng t\xecm th\u1ea5y trang \ud83d\ude25"})]})}}]),n}(a.Component),v=n(30),y=n(94),C=n(95),w=n(97),k=function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.index+1}),Object(c.jsx)("td",{children:t.name}),Object(c.jsxs)("td",{className:"text-center",children:[Object(c.jsx)("button",{className:"btn btn-warning mr-10 white",onClick:function(){return e=t._id,void t.onEdit(e);var e},children:"S\u1eeda"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=t._id,void(confirm("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(t.name," ? "))&&t.onDelete(e));var e},children:"X\xf3a"})]})]})},N="http://localhost:4000",S=n(19),D=n.n(S),_=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).onEdit=function(t){D()("".concat(N,"/category/").concat(t)).then((function(e){c.setState({id:t,showModal:!0,title:"S\u1eeda danh m\u1ee5c",txtName:e.data.nameCategory}),console.log(c.state.id)})).catch((function(t){return console.log(t)}))},c.onDelete=function(t){var e=c.state.categorys;D.a.delete("".concat(N,"/category/").concat(t)).then((function(n){if(200===n.status){var a=c.findIndex(e,t);-1!==a&&(e.splice(a,1),c.setState({categorys:e})),console.log(a),window.location.reload()}})).catch((function(t){return console.log(t)}))},c.findIndex=function(t,e){var n=-1;return t.forEach((function(t,c){t.id===e&&(n=c)})),n},c.onChange=function(t){var e=t.target,n=e.name,a=e.value;c.setState(Object(v.a)({},n,a))},c.onSave=function(t){t.preventDefault();var e=c.state,n=e.txtName,a=e.id;console.log(a),a?D.a.post("".concat(N,"/category/update/").concat(a),{nameCategory:n}).then((function(t){console.log(t),window.location.reload()})).catch((function(t){return console.log(t)})):D.a.post("".concat(N,"/category/add"),{nameCategory:n}).then((function(t){console.log(t),window.location.reload()})).catch((function(t){return console.log(t)}))},c.state={id:"",categorys:[],title:"",showModal:!1,txtName:""},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;D.a.get("".concat(N,"/category")).then((function(e){t.setState({categorys:e.data})})).catch((function(t){return console.log(t)}))}},{key:"showCategory",value:function(t){var e=this,n=null;return t.length>0&&(n=t.map((function(t,n){return Object(c.jsx)(k,{index:n,_id:t._id,name:t.nameCategory,onDelete:e.onDelete,onEdit:e.onEdit},n)}))),n}},{key:"render",value:function(){var t=this,e=this.state,n=e.categorys,a=e.showModal,r=e.txtName,o=e.title;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Danh m\u1ee5c"}),Object(c.jsx)("div",{className:"text-right",children:Object(c.jsx)(y.a,{type:"button",className:"btn btn-primary mb-10",onClick:function(){t.setState({showModal:!0,title:"Th\xeam danh m\u1ee5c"})},children:"Th\xeam danh m\u1ee5c"})}),Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"T\xean danh m\u1ee5c"}),Object(c.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(c.jsx)("tbody",{children:this.showCategory(n)})]}),Object(c.jsx)(w.a,{show:a,onHide:function(){t.setState({showModal:!1})},children:Object(c.jsxs)("form",{onSubmit:this.onSave,children:[Object(c.jsx)(w.a.Header,{closeButton:!0,children:Object(c.jsx)(w.a.Title,{children:o.toString()})}),Object(c.jsxs)(w.a.Body,{children:[Object(c.jsx)("label",{children:"T\xean danh m\u1ee5c"}),Object(c.jsx)("input",{className:"form-control",type:"text",name:"txtName",value:r,onChange:this.onChange})]}),Object(c.jsxs)(w.a.Footer,{children:[Object(c.jsx)(y.a,{variant:"secondary",type:"button",onClick:function(){t.setState({showModal:!1})},children:"\u0110\xf3ng"}),Object(c.jsx)(y.a,{variant:"primary",type:"submit",children:"Save changes"})]})]})})]})}}]),n}(a.Component),H=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(_,Object(d.a)({},this.props))}}]),n}(a.Component),T=n(46),M=n.n(T),L=n(59),B=n(96),E=n(98),U=function(t){function e(t){if(t.length>25)return t.substring(0,25)+"..."}return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.index+1}),Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:Object(c.jsx)("img",{src:"http://localhost:4000/"+t.image,width:"80",height:"80",alt:"img"})}),Object(c.jsx)("td",{children:e(t.github_url)}),Object(c.jsx)("td",{children:e(t.deployed_url)}),Object(c.jsx)("td",{children:t.nameCategory}),Object(c.jsxs)("td",{className:"text-center",children:[Object(c.jsx)("button",{className:"btn btn-warning mr-10 white",onClick:function(){return e=t._id,void t.onEdit(e);var e},children:"S\u1eeda"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){return e=t._id,void(confirm("B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(t._id," ? "))&&t.onDelete(e));var e},children:"X\xf3a"})]})]})},F=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).getData=Object(L.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get("".concat(N,"/projects")).then((function(t){c.setState({isLoading:!1,projects:t.data.project})})).catch((function(t){return console.log(t)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("error",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),c.onChange=function(t){var e=t.target,n=e.name,a=e.value;c.setState(Object(v.a)({},n,a))},c.onDelete=function(t){var e=c.state.projects;c.setState({isLoading:!0}),D.a.delete("".concat(N,"/projects/").concat(t)).then((function(n){if(200===n.status){var a=c.findIndex(e,t);-1!==a&&(e.splice(a,1),c.setState({isLoading:!1,projects:e})),window.location.reload()}})).catch((function(t){return console.log(t)}))},c.findIndex=function(t,e){var n=-1;return t.forEach((function(t,c){t.id===e&&(n=c)})),n},c.onSave=function(t){t.preventDefault();var e=c.state,n=e.txtName,a=e.txtUrl,r=e.txtGitHub,o=e.image,i=e.selectCategory,s=new FormData;s.append("name",n),s.append("deployed_url",a),s.append("github_url",r),s.append("image",o),s.append("category",i),D.a.post("".concat(N,"/projects/add"),s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),setTimeout((function(){window.location.reload()}),3e3)})).catch((function(t){return console.log("error",t)}))},c.state={projects:[],id:"",title:"",txtName:"",txtUrl:"",txtGitHub:"",image:"",selectCategory:"",category:null,showModal:!1,isLoading:!1},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.getData(),D.a.get("".concat(N,"/category")).then((function(e){t.setState({category:e.data})})).catch((function(t){return console.log(t)}))}},{key:"showProject",value:function(t){var e=this,n=null;return t.length>0&&(n=t.map((function(t,n){return Object(c.jsx)(U,{index:n,_id:t._id,name:t.name,deployed_url:t.deployed_url,github_url:t.github_url,image:t.image,nameCategory:t.category[0].nameCategory,onDelete:e.onDelete},n)}))),n}},{key:"render",value:function(){var t=this,e=this.state,n=e.projects,a=e.title,r=e.txtName,o=e.txtUrl,i=e.txtGitHub,s=e.selectCategory,l=e.showModal,j=!0===e.isLoading?Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(B.a,{animation:"grow",variant:"success",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(c.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",responsive:"lg",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"T\xean "}),Object(c.jsx)("th",{children:"H\xecnh \u1ea3nh"}),Object(c.jsx)("th",{children:"Page-Url"}),Object(c.jsx)("th",{children:"Github-URL"}),Object(c.jsx)("th",{children:"Danh m\u1ee5c"}),Object(c.jsx)("th",{children:"H\xe0nh \u0111\u1ed9ng"})]})}),Object(c.jsx)("tbody",{children:this.showProject(n)})]});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Projects"}),Object(c.jsx)("div",{className:"text-right",children:Object(c.jsx)(y.a,{type:"button",className:"btn btn-primary mb-10",onClick:function(){t.setState({showModal:!0,title:"Th\xeam project"})},children:"Th\xeam Project"})}),j,Object(c.jsx)(w.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:l,onHide:function(){t.setState({showModal:!1})},children:Object(c.jsxs)(E.a,{onSubmit:this.onSave,children:[Object(c.jsx)(w.a.Header,{closeButton:!0,children:Object(c.jsx)(w.a.Title,{children:a.toString()})}),Object(c.jsxs)(w.a.Body,{children:[Object(c.jsx)("label",{children:"T\xean"}),Object(c.jsx)("input",{className:"form-control",type:"text",name:"txtName",value:r,onChange:this.onChange}),Object(c.jsx)("label",{children:"H\xecnh \u1ea3nh"}),Object(c.jsx)(E.a.File,{id:"custom-file-translate-scss",label:"H\xecnh \u1ea3nh",lang:"en",custom:!0,type:"file",onChange:function(e){t.setState({image:e.target.files[0]}),console.log(e.target.files[0])}}),Object(c.jsx)("label",{children:"URL"}),Object(c.jsx)("input",{className:"form-control",type:"text",name:"txtUrl",value:o,onChange:this.onChange}),Object(c.jsx)("label",{children:"GITHUB"}),Object(c.jsx)("input",{className:"form-control",type:"text",name:"txtGitHub",value:i,onChange:this.onChange}),Object(c.jsx)("label",{children:"Danh M\u1ee5c"}),Object(c.jsxs)("select",{className:"form-control",size:"as",as:"select",onChange:this.onChange,value:s,name:"selectCategory",children:[Object(c.jsx)("option",{children:"---Th\xeam danh m\u1ee5c---"}),this.state.category&&this.state.category.map((function(t,e){return Object(c.jsxs)("option",{value:t._id,children:[" ",t.nameCategory]},e)}))]})]}),Object(c.jsxs)(w.a.Footer,{children:[Object(c.jsx)(y.a,{variant:"secondary",type:"button",onClick:function(){t.setState({showModal:!1})},children:"\u0110\xf3ng"}),Object(c.jsx)(y.a,{type:"submit",children:"L\u01b0u"})]})]})})]})}}]),n}(a.Component),G=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(F,Object(d.a)({},this.props))}}]),n}(a.Component),I=[{path:"/",exact:!0,main:function(){return Object(c.jsx)(g,{})}},{path:"/category",exact:!1,main:function(){return Object(c.jsx)(H,{})}},{path:"/projects",exact:!1,main:function(){return Object(c.jsx)(G,{})}},{path:"",exact:!1,main:function(){return Object(c.jsx)(f,{})}}],P=n(7),A=function(t){Object(j.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).showContent=function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return Object(c.jsx)(P.a,{path:t.path,exact:t.exact,component:t.main},e)}))),Object(c.jsx)(P.c,{children:e})},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{}),Object(c.jsx)("div",{className:"container",children:this.showContent(I)})]})}}]),n}(a.Component);n(90),n(91);o.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.7f19c26a.chunk.js.map